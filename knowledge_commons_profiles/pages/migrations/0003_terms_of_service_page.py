from django.db import migrations

TERMS_OF_SERVICE_BODY = """
<p>Last updated 2 November 2020. These terms together with the Privacy
Statement and the Guidelines for Use constitute the Terms of Use (herein
"Terms") between you ("you," "your" or "User") and Michigan State
University ("our," "we," "us," or "MSU") governing your use of the
Commons (the "Commons" or the "Network", also referred to as "we" and
"us"), a community network hosted by MSU and sponsored by a collective of
participating organizations and institutions ("Participating
Organizations" or "Organizations"; individually, "Organization"). Please
read these Terms carefully because your use of the Network, including but
not limited to your use of blogs, forums, groups, shared files,
publications, and other services provided anywhere on the Network,
including the Commons hub and the Participating Organizations' sites is
covered by these Terms. Participating Organizations may have additional
and/or different terms of use for their members. In the event of conflict
between these Terms and those of any Participating Organization, these
Terms shall govern your use of the Network. If you do not agree to these
Terms, you are not authorized to use the Network. By using the Network,
you confirm you have read, understand, and agree to these Terms. We may
change these Terms by posting an updated version on our Network. The
updated Terms will be effective immediately upon posting. If we decide
that it is appropriate, we may provide additional notice of more
significant changes. By continuing to use our Network after we post
updated Terms, you agree to be bound by the updated Terms. Please check
these Terms regularly so that you are aware of any changes. The Commons
is provided as a service for scholars, students, and practitioners in
academic fields, as well as for other interested readers. The Commons, as
well as its connected services, is intended to allow Users of the Network
to connect with one another and share their work, thoughts, and ideas,
and it is therefore dedicated to free expression in a collaborative,
collegial environment. The Commons and the Participating Organizations
also host several publications on the Network that are intended for
scholarly and pedagogical use. We respect the intellectual property rights
of the authors of the content on the Network, and we exercise only the
rights necessary to facilitate the dissemination of that content. We also
support the use of open-source software and the widespread dissemination
and use of online materials consistent with the intellectual property and
other rights of Users who post material and applicable law. We hope that
your experience on the Commons will be enjoyable and productive.</p>

<h2>Accounts; Account Security</h2>
<p>User accounts on the Commons are open to anyone whether or not you are
affiliated with a university. Accounts of Users who came to be Users
through a relationship or good standing in, or otherwise have privileges
in one or more Participating Organizations (such Users herein referred to
as "Organizations' Members") will also be able to use those
Organizations' services on the Network, including accessing restricted
areas of the Network, including areas where the Organizations' Members
may post content to sites, groups, the Commons Open Repository Exchange
("CORE"), and other shared spaces on the Network. A User whose membership
in a Participating Organization has lapsed may be denied posting or
editing privileges on the Organization's sites until their account is
brought up to date. Please note that only Organizations' Members may post
on restricted areas of the Network but much of the content on the Network
(including much of the content that you post and your account profile)
will be made available to the general public. Please review the Commons'
Privacy Statement for more details. If you create an account, you are
responsible for maintaining the security of your account. You may not
transfer your account or otherwise do anything to give another person
access to it. You are responsible for all activities that occur under your
account and any other actions taken in connection with the account. You
must take reasonable steps to guard the security of your account,
including by keeping the username and password for your account
confidential. You represent and warrant that all information you provide
in connection with your account is accurate and complete. If you learn
that anyone has accessed or attempted to access your account or if any of
your account information has changed, please contact
hello@hcommons.org.</p>

<h2>Rights and Responsibilities Related to Network Content</h2>
<p>The Network includes both User Content (as defined below) and
Organization Content (collectively, "Network Content"). We respect
intellectual property rights and expect Users of our Network to do so as
well. Network Content is protected by United States and international
copyright laws. Users are permitted to use the User Content and
Organization Content as described below.</p>

<h3>User Content</h3>
<p>The Network allows Users who have registered for an account to share
content on the Network, including publishing or commenting on a blog,
posting material or links, submitting a question, submitting resources
for teaching and learning, sharing the User's profile information and
images, and otherwise making material available on the Network
(collectively, "User Content"). If you provide any User Content, you are
solely and entirely responsible for that User Content. You warrant and
represent that: (i) you own, have acquired, or claim under the principle
of fair use all the rights necessary to submit the User Content that you
provide to the Network, including all the rights necessary for the
Commons or the relevant Organization to reproduce, distribute, publicly
display and perform, and otherwise make available the User Content on the
Network; (ii) your User Content does not and will not violate these Terms
or any third party's copyright, trademark, patent, trade secret, right
to privacy or publicity, or any other proprietary, personal, or other
right of any kind; (iii) you are under no obligation that would in any
way interfere with or prohibit your disclosure or use of the User Content
you provide; and (iv) your User Content contains no material or
information furnished to you in confidence or with the understanding that
it would not be disclosed or published.</p>

<p>If you create a site or group on the Commons, that space is still
subject to the policies and guidelines that govern the Network as a
whole, and you as owner/moderator of your User Content are responsible
for complying with relevant policies, including policies related to
visitors' personal data.</p>

<h4>License to MSU</h4>
<p>By posting User Content on the Network, you grant MSU a nonexclusive,
royalty-free, worldwide license to use the User Content in accordance
with these Terms on the Network, in all formats in which the Network is
available, until you remove or delete it, which use includes but is not
limited to reproducing, distributing, transmitting, publicly displaying
and performing, and incorporating the User Content into a collective
work. Whenever possible, we will credit you as the author of the User
Content you provide, and, by posting User Content on the Network, you
grant MSU the right to use your name (as provided in your user profile)
for that attribution. If you delete your User Content, cached versions of
or references to the User Content may not be made unavailable. Some User
Content, such as files uploaded to CORE, may not be removed or deleted.
Please contact us at hello@hcommons.org for assistance. Our display of
User Content does not mean that MSU endorses or adopts it. We have no
obligation to display or use any User Content in any way or to prescreen,
monitor, modify, supplement, or delete User Content, but we may do so at
any time without notice. We are not responsible for any failure or delay
in removing User Content that does not comply with these Terms. We
reserve the right to restrict you from submitting new User Content or
from otherwise participating in the Network's interactive features for
any reason, including repeated submissions of User Content that does not
comply with these Terms.</p>

<h4>Use of Your User Content by Other Network Users</h4>
<p>When you create User Content on the Network, we give you the option to
make that User Content available under your choice of Creative Commons
license ("CC License"), which allows others to use the User Content in
accordance with the license you choose. Because most of the User Content
on the Network may be viewed by a User in the general public, selecting a
CC License will make that User Content available generally, not just to
Users within Participating Organizations. The default choice if no CC
License is selected is that your User Content will be available under CC
BY terms. Where you have the option to make choices regarding CC Licenses
on the Network, we provide links to the Creative Commons website, where
the details of each license and the procedures for implementing them are
explained. You are solely responsible for complying with all requirements
for using a CC License and for enforcing any CC License you choose. For
information regarding all CC Licenses, see
<a href="http://creativecommons.org/about/licenses">http://creativecommons.org/about/licenses</a>.</p>

<h4>Use of Your User Content by Third-Party Services</h4>
<p>From time to time, we may enter into an agreement with a third-party
service provider ("Service Provider") to enhance the Commons experience
or extend its reach. Such agreements may include the provision of
metadata about your User Content to aggregating or indexing services
(such as SHARE) or the ability for you to integrate external information
into your profile (such as ORCID). We will make reasonable efforts to
notify you of such agreements. Your use of the Network indicates your
acceptance of such arrangements.</p>

<h4>Release</h4>
<p>You irrevocably release (on behalf of yourself and your successors,
heirs, family members, and executors) MSU (and its trustees, directors,
officers, employees, agents, and affiliates) from any claim of any nature
that you have or may ever have (based on any cause of action, including
rights of publicity or privacy, trademark, copyright, libel, or
defamation) arising out of MSU's use, as described in these Terms, of
(i) User Content you provide or (ii) your name or likeness in connection
with your User Content. If you are a California resident, you waive
California Civil Code, section 1542, which says, "A general release does
not extend to claims which the creditor does not know or suspect to exist
in his or her favor at the time of executing the release, which if known
by him or her must have materially affected his or her settlement with
the debtor." If you reside in any other jurisdiction that places similar
restrictions on a general release, you waive those restrictions to the
maximum extent permissible under the applicable law.</p>

<h3>Organization Content</h3>
<p>In addition to User Content, the Network includes content owned by the
Participating Organizations and their licensors ("Organization Content").
Organization Content on the Network may be used:</p>
<ul>
  <li>As indicated by the CC License associated with the particular
  Organization Content;</li>
  <li>If no CC License is associated, you may access the Organization
  Content on a personal computer or mobile device and may:
    <ul>
      <li>Print any portion of the Network for personal or classroom
      use.</li>
      <li>Display the Network or portions of it on a screen or monitor for
      the purpose of face-to-face classroom instruction.</li>
      <li>Display the Network or portions of it on a screen or monitor in
      a library for the purpose of face-to-face reference assistance.</li>
      <li>Download resources that are specifically made available for
      download.</li>
    </ul>
  </li>
</ul>
<p>You must not remove or modify any copyright, trademark, or other
notice on any Organization Content that you print or download. If you
wish to use Organization Content in a manner other than permitted above,
you may seek permission to reprint or license Organization Content by
sending your request to the relevant Organization at the address listed
on its contact page.</p>

<h2>Guidelines for Use</h2>
<p>To ensure that the Commons will be a cordial and civil community, MSU
has established Guidelines for Use for all users. Please read them
carefully, because they are a part of these Terms, and your violation of
the Guidelines may result in our terminating your access to the Network.
In addition, we grant you access to the Network on the condition that you
not undertake any of the following actions in connection with your access
to the Network:</p>
<ul>
  <li>Restrict or inhibit any other person from using the Network;</li>
  <li>Transmit any software or other materials that contain any virus,
  worm, time bomb, Trojan horse, or other harmful or disruptive component
  or otherwise interfere with or disrupt the operation of the Network or
  servers hosting or connected to the Network;</li>
  <li>Use the Network for any unlawful purpose or otherwise violate any
  applicable laws, rules, or regulations in connection with your use of
  the Network;</li>
  <li>Transmit (a) any content or information that is unlawful,
  fraudulent, threatening, harassing, abusive, libelous, defamatory,
  obscene, or otherwise objectionable or that infringes on our or any
  third party's intellectual property or other rights; (b) any material,
  nonpublic information (about companies or otherwise) without the
  authorization to do so; or (c) any spam, advertisements, solicitations,
  chain letters, or other unsolicited commercial communication (except as
  otherwise expressly permitted by us in writing);</li>
  <li>Modify, adapt, sublicense, translate, sell, reverse engineer,
  decompile, disassemble, or deface any portion of the Network;</li>
  <li>Remove any copyright, trademark, or other proprietary rights
  notices contained in the Network;</li>
  <li>Use any robot, spider, site search/retrieval application, or other
  manual or automatic device or process to retrieve, index, "data mine,"
  or in any way reproduce or circumvent the navigational structure or
  presentation of the Network, the Network Content, or User Content. This
  limitation is not intended to restrict legitimate scholarly surveys of
  User Content or Network usage;</li>
  <li>Harvest or collect information about Network visitors without their
  unambiguous and informed consent; or</li>
  <li>"Frame" or "mirror" any part of the Network without our prior
  written authorization.</li>
</ul>

<h2>Unauthorized Use of Network or Network Content</h2>
<p>If a User engages in a use of the Network or posts content to the
Network that is not permitted, MSU reserves the right to bar that User's
access to the Network permanently. You agree to indemnify MSU and its
trustees, directors, officers, employees, agents, and affiliates against
all liabilities, losses, damages, and costs (including reasonable
attorneys' fees) that MSU may incur because of your violation of these
Terms.</p>

<h2>Reporting Violations or Concerns</h2>
<p>If you have reason to believe that any User Content or activity on the
Network violates these Terms or is illegal or inappropriate or to report
any other abusive behavior in connection with the Network, please contact
us by e-mail at hello@hcommons.org or write to Kathleen Fitzpatrick,
Director, The Commons, Michigan State University, 479 West Circle Drive,
East Lansing MI 48824. If you believe that material located on the
Network violates your copyright, you may notify us in accordance with the
Digital Millennium Copyright Act ("DMCA") procedures described below. For
more information about intellectual property, the DMCA, and legal issues
related to social networks such as the Commons, see the Electronic
Frontier Foundation's Web site at
<a href="http://www.eff.org/issues/bloggers/legal/liability/IP">http://www.eff.org/issues/bloggers/legal/liability/IP</a>.
If you believe that any material posted on the Network infringes your
copyright, you may request the removal of those materials from the
Network in accordance with the DMCA. A notice of infringing material that
complies with the 17 USC, section 512(c)(3), of the DMCA ("Notice") must
be sent to the agent we have designated with the Copyright Office:
Kathleen Fitzpatrick, Director, The Commons, Michigan State University,
479 West Circle Drive, East Lansing MI 48824.</p>

<h2>DMCA Notice</h2>
<p>To better understand procedures for addressing instances of copyright
infringement, please see the information here:
<a href="https://tech.msu.edu/about/guidelines-policies/procedures-copyright-infringement/">https://tech.msu.edu/about/guidelines-policies/procedures-copyright-infringement/</a>
If you believe your copyrighted material is being infringed, please file
a complaint through the following link:
<a href="http://contact.cl.msu.edu/dmca.php">http://contact.cl.msu.edu/dmca.php</a></p>

<h2>Links to Third-Party Web Sites</h2>
<p>Our Network may contain links to Web sites controlled by third parties
("Third-Party Web Sites"), whether provided by us or by Users. We are not
responsible for Third-Party Web Sites or their content or activities. Your
use of Third-Party Web Sites is governed by those sites' terms of use and
privacy policies. We make no representations or warranties whatsoever
about the nature of Third-Party Web Sites. By providing links to
Third-Party Web Sites, we do not guarantee, approve, or endorse the
information, services, or products available at these sites, nor does a
link indicate any association with or endorsement by the linked site.</p>

<h2>Trademark Rights</h2>
<p>"The Commons" and all related trademarks, service marks, trade names,
logos, and other indicia of source (collectively, the "MSU Marks") are
the property of MSU, and MSU reserves all rights in the MSU Marks. You
may not use the MSU Marks in any manner without MSU's written
authorization. Additionally, you may not use the MSU Marks in connection
with any product, service, opinion, cause, activity, or political
candidate or in any manner that is likely to cause confusion among users
about whether we are the source, sponsor, or endorser of a product,
service, opinion, cause, activity, or political candidate. In addition,
the name, trademarks, service marks, indicia and/or logos of a
Participating Organization ("Participating Organization Marks") may
appear on the Network. Each Participating Organization owns or controls
rights in its Participating Organization Marks. Your use of Participating
Organization Marks is subject to the terms and conditions imposed by such
Participating Organization.</p>

<h2>Termination</h2>
<p>These Terms apply to you as long as you use the Network or until
terminated by MSU in accordance with this Section. We may terminate these
Terms and your access to the Network at any time, at our sole discretion,
without notice if we believe that you have violated these Terms or for
other reasons that we determine in good faith are necessary or
appropriate, including if we suspect you are using or attempting to use
the Network in any way that violates these Terms or any applicable laws
or regulations. You acknowledge that upon any termination of your
account, we have the right, but not the obligation, to remove or discard
your User Content. You may terminate these Terms by closing your account
and ceasing to use the Network. If you wish to delete your account,
please contact hello@hcommons.org; see also the Privacy Statement at
paragraph 6.e about closing your account. All provisions of these Terms
that by their nature should survive termination shall survive
termination, including provisions relating to warranty disclaimers,
indemnity, and limitations of liability.</p>

<h2>Indemnity</h2>
<p>You agree to indemnify, defend, and hold harmless MSU, its
contractors, licensors, and licensees and their respective trustees,
directors, officers, employees, agents, and affiliates ("Indemnified
Parties") against any and all liabilities, losses, damages, and costs
(including reasonable attorneys' fees) arising out of or relating to (a)
your use of the Network or breach of these Terms; (b) any allegation that
any materials that you submit to us or transmit to the Network infringe
or otherwise violate the copyright, trademark, trade secret, or other
intellectual property or other rights of any third party; or (c) your
activities in connection with the Network or any services related to the
Network. Any Indemnified Party may, at its expense, assume the exclusive
defense and control of any matter for which that Indemnified Party is
entitled to indemnification, and you agree to provide it with whatever
cooperation it reasonably requests.</p>

<h2>No Warranties and Disclaimer of Liability</h2>
<p>USER CONTENT, INCLUDING BLOGS, COMMENTS, FORUM POSTS, AND MATERIAL
ADDED TO THE NETWORK'S REPOSITORY, ARE THE VIEWS AND OPINIONS OF THEIR
AUTHORS AND THEY ARE SOLELY RESPONSIBLE FOR THEIR USER CONTENT. MSU
CANNOT VERIFY OR GUARANTEE THAT THE INFORMATION PRESENTED ON THE NETWORK,
INCLUDING USER CONTENT, IS ACCURATE OR COMPLETE, AND WE WILL NOT BE
LIABLE FOR ANY HARM OR DAMAGES ARISING FROM ANY CONTENT POSTED ON THE
NETWORK OR YOUR USE OF OR INABILITY TO USE OR ACCESS THE NETWORK. THE
NETWORK IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. MSU MAKES NO
REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, REGARDING
THE AVAILABILITY, OPERATION, OR ADMINISTRATION OF THE NETWORK OR ANY
NETWORK CONTENT. TO THE FULL EXTENT PERMITTED BY APPLICABLE LAW, MSU
SPECIFICALLY DISCLAIMS ALL SUCH WARRANTIES, WHETHER EXPRESS OR IMPLIED,
INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE (EVEN IF THAT PURPOSE HAS BEEN DISCLOSED). MSU
RESERVES THE RIGHT TO MODIFY, SUSPEND, OR DISCONTINUE THE NETWORK, WITH
OR WITHOUT NOTICE, AT ANY TIME AND WITHOUT ANY LIABILITY TO NETWORK
USERS. ALTHOUGH WE INTEND TO TAKE REASONABLE STEPS TO PREVENT THE
INTRODUCTION OF VIRUSES, WORMS, TROJAN HORSES, OR OTHER MALICIOUS CODE
TO THE NETWORK, MSU DOES NOT GUARANTEE OR WARRANT THAT THE NETWORK, OR
SERVICES OR MATERIALS THAT MAY BE AVAILABLE THROUGH THE NETWORK, ARE FREE
FROM SUCH DESTRUCTIVE FEATURES. MSU IS NOT LIABLE FOR ANY DAMAGES OR HARM
ATTRIBUTABLE TO SUCH FEATURES. IF YOU USE THE NETWORK OR NETWORK CONTENT,
YOU DO SO SOLELY AT YOUR OWN RISK. MSU AND ITS TRUSTEES, DIRECTORS,
OFFICERS, EMPLOYEES, AGENTS, AND AFFILIATES ARE NOT LIABLE FOR ANY CLAIM
OF ANY KIND WHATSOEVER BASED ON LOSS OR INJURY BECAUSE OF ERRORS,
OMISSIONS, INTERRUPTIONS, OR INACCURACIES IN THE NETWORK OR ANY SERVICES
OR MATERIALS AVAILABLE THROUGH IT, INCLUDING LOSS OR INJURY THAT RESULTS
FROM YOUR BREACH OF ANY PROVISION OF THESE TERMS. UNDER NO CIRCUMSTANCES
WILL MSU OR ITS TRUSTEES, OFFICERS, EMPLOYEES, AGENTS, OR AFFILIATES BE
LIABLE FOR ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL, PUNITIVE, OR
EXEMPLARY DAMAGES (INCLUDING LOST REVENUES OR PROFITS, LOSS OF BUSINESS,
OR LOSS OF DATA) ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR YOUR
USE OF THE NETWORK OR MATERIALS OR SERVICES AVAILABLE THROUGH THE
NETWORK, REGARDLESS OF THE THEORY OF LIABILITY, WHETHER TORT (INCLUDING
NEGLIGENCE), CONTRACT, OR ANY OTHER LEGAL OR EQUITABLE THEORY. UNDER NO
CIRCUMSTANCES WILL MSU'S TOTAL AGGREGATE LIABILITY UNDER THESE TERMS OR
IN CONNECTION WITH YOUR USE OF THE NETWORK OR NETWORK CONTENT EXCEED
$100. MSU MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE ACCURACY,
COMPLETENESS, TIMELINESS, RELIABILITY, OR NONINFRINGEMENT OF ANY CONTENT
ON THE NETWORK. MSU DOES NOT WARRANT THAT ALL THE MATERIAL ON THE NETWORK
IS CORRECT OR COMPLETE, AND MSU RESERVES THE RIGHT, WITHOUT INCURRING ANY
LIABILITY UNDER ANY THEORY, TO CORRECT ANY ERRORS OR OMISSIONS ON THE
NETWORK.</p>

<h2>General</h2>
<p><strong>Entire Agreement.</strong> These Terms, which include the
Privacy Statement and Guidelines for Use, constitute the complete
agreement between you, as a User, and MSU regarding your use of the
Network and supersede any prior (oral or written) understandings or
agreements regarding its subject matter.</p>
<p><strong>Governing Law; Venue.</strong> Any dispute arising under or
related to these Terms or your use of or access to the Network is
governed by the laws of the State of Michigan. You irrevocably agree: (i)
to bring any claim or dispute relating to your use of the Network and
these Terms exclusively in the state and federal courts located in the
State of Michigan, (ii) to submit to the personal jurisdiction of those
courts, and (iii) to waive any objection based on an inconvenient forum
or other reasons regarding the jurisdiction or venue of those courts.</p>
<p><strong>Severability; Assignment; Including.</strong> If a court of
competent jurisdiction determines that any provision of these Terms is
unenforceable for any reason, then that provision will be revised to the
extent necessary to make it enforceable and reflect the intent of these
Terms, or, if that is not possible, it will be deleted and the remaining
provisions will be enforceable to the fullest extent permitted by law
(unless doing so would deprive either party of a material benefit of
these Terms). You may not assign or delegate your rights or privileges
under these Terms, and any attempt to do so is null and void. The word
"including" in these Terms is illustrative and means "including, but not
limited to."</p>
<p>If you have questions or comments about these Terms of Service,
including the Privacy Statement, please direct them to Kathleen
Fitzpatrick.</p>
""".strip()


def create_terms_of_service_page(apps, schema_editor):
    SitePage = apps.get_model("pages", "SitePage")
    SitePage.objects.get_or_create(
        slug="terms-of-service",
        defaults={
            "title": "Terms of Service",
            "body": TERMS_OF_SERVICE_BODY,
        },
    )


def remove_terms_of_service_page(apps, schema_editor):
    SitePage = apps.get_model("pages", "SitePage")
    SitePage.objects.filter(slug="terms-of-service").delete()


class Migration(migrations.Migration):

    dependencies = [
        ("pages", "0002_registration_start_page"),
    ]

    operations = [
        migrations.RunPython(
            create_terms_of_service_page,
            remove_terms_of_service_page,
        ),
    ]
