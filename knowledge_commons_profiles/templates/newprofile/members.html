{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container" id="main_container">
  <form method="post" action="{% url 'members' %}">
    {% csrf_token %}
    <div class="user-search-container">
        <h1>Knowledge Commons Members</h1>
        <input type="text" class="user-search" placeholder="Search for a user..."/> <input type="submit" value="Search"/>
    </div>
  </form>
  <div class="row">
    <!-- Profile Info -->
    <div class="wrap">
      {% for p in profiles %}
        {% if p.name %}
        <div class="card">
            <a href="{% url "profile" p.username %}"><img alt="{{ p.name }}" class="avatar" src="{{ p.final_image }}"/></a>
            <div>
              <p class="name"><a href="{% url "profile" p.username %}">{{ p.name }} ({{ p.username }})</a></p>
              <div class="aff"><a href="{% url "profile" p.username %}">{% if p.institutional_or_other_affiliation %}{{ p.institutional_or_other_affiliation }}{% endif %}</a></div>
            </div>
            <button class="btn">Follow</button>
        </div>
        {% endif %}
      {% endfor %}

      <div class="pager">
        {% if has_prev %}
          <a href="?cursor={{ prev_cursor }}&dir=prev"><< Previous</a>
        {% else %}
          <span class="disabled"><< Previous</span>
        {% endif %}
        <span class="page-info">Page {{ current_page }} of {{ page_count }}</span>
        {% if has_next %}
          <a href="?cursor={{ next_cursor }}">Next >></a>
        {% else %}
          <span class="disabled">Next >></span>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
